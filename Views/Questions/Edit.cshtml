@model Employee_Survey.Domain.Question
<h2>Edit Question</h2>

@if (TempData["Msg"] != null)
{
    <div class="alert alert-success">@TempData["Msg"]</div>
}
@if (TempData["Err"] != null)
{
    <div class="alert alert-danger">@TempData["Err"]</div>
}
@if (TempData["ErrDetail"] != null)
{
    <pre class="alert alert-warning" style="white-space:pre-wrap">@TempData["ErrDetail"]</pre>
}

<form asp-controller="Questions"
      asp-action="Edit"
      asp-route-id="@Model.Id"
      method="post"
      enctype="multipart/form-data">
    @Html.AntiForgeryToken()
    <div asp-validation-summary="All" class="text-danger"></div>

    <partial name="_Form" model="Model" />

    <button type="submit" class="btn btn-primary">Save</button>
    <a asp-action="Index" class="btn btn-secondary ms-2">Back</a>
</form>

@if (Model.Media?.Any() ?? false)
{
    ViewBag.AllowDeleteMedia = true;
    ViewBag.QuestionId = Model.Id;
    <div class="mt-3">
        <partial name="~/Views/Shared/_MediaViewer.cshtml" model="Model.Media" />
    </div>
}
